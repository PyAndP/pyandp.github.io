import requests  
from bs4 import BeautifulSoup  
r = 2  
while True:  
url = f"http://bizhi360.com/dongman/list\_{r}.html"  
#http://bizhi360.com/dongman/list\_2.html  
r += 1  
headers = {  
"User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36 Edg/105.0.1343.53" }  
resped = requests.get(url,headers=headers)  
resped.encoding="utf-8"  
resped\_text =resped.text  
  
cool = BeautifulSoup(resped\_text,"html.parser")  
cool1 = cool.find("div",class\_="pic-list")  
cool2 = cool1.find\_all("a")  
try:  
for i in cool2:  
new\_href = i.get("href")  
new\_url = f"http://bizhi360.com{new\_href}"  
if new\_url == "http://bizhi360.com/dongman/":  
pass  
else:  
resped = requests.get(new\_url,headers=headers)  
resped.encoding = "utf-8"  
resped\_text = resped.text  
cool = BeautifulSoup(resped\_text,"html.parser")  
cool1 = cool.find("div",class\_="article")  
cool2 = cool1.find("a")  
cool3 = cool2.get("href")  
name = cool3.split("/")\[-1\]  
print(cool3 and name)  
with open(f"E:\\\\壁纸文件\\\\web爬虫{name}.jpg",mode="wb") as f:  
f.write(requests.get(cool3).content)  
except:  
continue  

![](https://tenfei04.cfp.cn/creative/vcg/nowater800/new/VCG21541f1a4ae.jpg?x-oss-process=image/format,webp)
